---
description: "LocalBot AI â€“ Testing requirements and quality gates"
globs: ["src/**/*.ts", "src/**/*.tsx"]
alwaysApply: false
---
# ðŸ§ª TESTING & QUALITY

## WHEN TESTS ARE REQUESTED OR INFERRED:
- âœ… **Every utility function** needs a unit test.
- âœ… **Every API route** needs integration test coverage for success + error paths.
- âœ… **Every React component** with logic needs a component test.
- âœ… **Test files** must be colocated: `Component.tsx` â†’ `Component.test.tsx`

## TESTING STACK:
- **Framework**: Vitest
- **React Testing Library** for components
- **MSW** for API mocking
- **Supertest** for API route integration tests

## COVERAGE TARGETS:
- ðŸŽ¯ **80%+** for business logic
- ðŸŽ¯ **70%+** for components
- ðŸŽ¯ **90%+** for critical paths (auth, payments, chat API)

## BEFORE MARKING TASK COMPLETE:
1. âœ… Verify no TypeScript errors (`tsc --noEmit`)
2. âœ… Verify linting passes (`eslint .`)
3. âœ… Verify tests pass (`npm test`)
4. âœ… Verify feature works in browser